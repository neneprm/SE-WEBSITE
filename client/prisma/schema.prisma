// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model Subject {
  id           String  @id
  name         String
  credit       Int
  lectureHour  Int?
  labHour      Int?
  studyHour    Int?
  prerequisite String?
  program      Program @default(KMITL)
  description  String  @db.Text
  track        Track?

  Course   Course? @relation(fields: [courseId], references: [id])
  courseId String?

  @@index([courseId])
}

model Course {
  id       String    @id @default(cuid())
  year     Int
  semester Int
  subjects Subject[]

  @@unique([year, semester])
}

enum Track {
  AI
  IoT
  Metaverse
}

enum Program {
  KMITL
  Glasgow
}
